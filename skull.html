<!DOCTYPE html>
<html>

<head>
    <title>Screenshot Capture and Upload</title>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.0.0-rc.5/dist/html2canvas.min.js"></script>
    <style>
        #photo {
            border: 4px solid green;
            padding: 4px;
        }
    </style>
</head>

<body>
    <div id="photo">
        <img src="https://static-c398.kxcdn.com/assets//img/product/300/20231122-401827482_661083626161186_6604479897724011231_n.jpg" alt="" srcset="">
        <h1>GeeksforGeeks</h1>
        Hello everyone! This is a trial page for taking a screenshot.
        <br><br> This is a dummy button!
        <button>Dummy</button>
        <br><br> Click the button below to take a screenshot of the div.
        <br><br>
        <button onclick="takeScreenshot()">Take Screenshot</button>
    </div>
    <h1>Screenshot:</h1>
    <div id="output"></div>

    <script type="text/javascript">
        function takeScreenshot() {
            let div = document.getElementById('photo');

            html2canvas(div).then(function(canvas) {
                let dataURL = canvas.toDataURL();
                console.log(dataURL);
                fetch('https://static-c398.kxcdn.com/assets/img/product/', {
                    method: 'POST',
                    body: JSON.stringify({
                        dataURL: dataURL
                    }),
                    headers: {
                        'Content-Type': 'application/json'
                    }
                }).then(function(response) {
                    if (response.ok) {
                        return response.json();
                    } else {
                        throw new Error('Upload failed');
                    }
                }).then(function(data) {
                    document.getElementById('output').innerHTML = 'Screenshot uploaded successfully. URL: ' + data.url;
                }).catch(function(error) {
                    console.error('Error:', error);
                });
            });
        }
    </script>
</body>

</html>